import javax.swing.JOptionPane;
import javax.swing.table.DefaultTableModel;
import java.sql.*;
import java.sql.ResultSet;
import javax.swing.ImageIcon;

/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

/*
 * newtrans.java
 *
 * Created on Oct 16, 2013, 7:29:58 PM
 */

/**
 *
 * @author Admin
 */
public class newtrans extends javax.swing.JFrame {

    /** Creates new form newtrans */
    public newtrans() {
        initComponents();
    }

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jLabel1 = new javax.swing.JLabel();
        jScrollPane1 = new javax.swing.JScrollPane();
        ptable = new javax.swing.JTable();
        PTF = new javax.swing.JTextField();
        PRTF = new javax.swing.JTextField();
        jLabel5 = new javax.swing.JLabel();
        QTF = new javax.swing.JTextField();
        jLabel6 = new javax.swing.JLabel();
        jLabel8 = new javax.swing.JLabel();
        jLabel9 = new javax.swing.JLabel();
        jButton1 = new javax.swing.JButton();
        jButton2 = new javax.swing.JButton();
        jLabel7 = new javax.swing.JLabel();
        jLabel10 = new javax.swing.JLabel();
        jLabel11 = new javax.swing.JLabel();
        jLabel12 = new javax.swing.JLabel();
        NTF = new javax.swing.JTextField();
        DTTF = new javax.swing.JTextField();
        STF = new javax.swing.JTextField();
        ATF = new javax.swing.JTextField();
        jButton4 = new javax.swing.JButton();
        wcbx = new javax.swing.JComboBox();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setTitle("PURCHSE COUNTER OF WEAPON MANAGEMENT SERVER ");
        setIconImage(new ImageIcon("F:\\Project Pics\\dwdts.JPG").getImage());
        addComponentListener(new java.awt.event.ComponentAdapter() {
            public void componentShown(java.awt.event.ComponentEvent evt) {
                formComponentShown(evt);
            }
        });

        jLabel1.setFont(new java.awt.Font("Times New Roman", 3, 24)); // NOI18N
        jLabel1.setText("                         PURCHASE COUNTER OF WEAPON MANAGEMENT SERVER ");

        ptable.setBorder(javax.swing.BorderFactory.createEmptyBorder(1, 1, 1, 1));
        ptable.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "S.NO", "DT. OF TRANSCTION ", "ARMOUR NO.", "NAME", "POST", "WEAPON CODE", "QUANTITY", "PRICE"
            }
        ) {
            boolean[] canEdit = new boolean [] {
                false, false, false, false, false, false, false, false
            };

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        ptable.setToolTipText("<HTML>HERE IS YOUR DATA THAT YOU HAVE ENTERED");
        jScrollPane1.setViewportView(ptable);

        PTF.setEditable(false);
        PTF.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                PTFActionPerformed(evt);
            }
        });

        PRTF.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                PRTFActionPerformed(evt);
            }
        });

        jLabel5.setText("WEAPON CODE");

        QTF.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                QTFActionPerformed(evt);
            }
        });
        QTF.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                k2(evt);
            }
        });

        jLabel6.setText("QUANTITY");

        jLabel8.setText("PRICE");

        jLabel9.setText("POST");

        jButton1.setText("SAVE TRANSACTION");
        jButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1ActionPerformed(evt);
            }
        });

        jButton2.setText("HOME");
        jButton2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton2ActionPerformed(evt);
            }
        });

        jLabel7.setText("ARMOU NO.");

        jLabel10.setText("S.NO");

        jLabel11.setText("NAME");

        jLabel12.setText("DT. OF TRANS.");

        NTF.setEditable(false);
        NTF.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                NTFActionPerformed(evt);
            }
        });

        DTTF.setEditable(false);
        DTTF.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                DTTFActionPerformed(evt);
            }
        });

        STF.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                STFActionPerformed(evt);
            }
        });

        ATF.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                ATFActionPerformed(evt);
            }
        });
        ATF.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                k1(evt);
            }
        });

        jButton4.setText("EMPTY THE TRACK");
        jButton4.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton4ActionPerformed(evt);
            }
        });

        wcbx.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "SELECT YOUR CHOICES", "=============", " ", "ON DEMAND GRANADES", "==============", "M67 FRAGMENTATION GRANADES", "AN/M14 THERMITE GRANADES", "AN/M8 WHITE SMOKE GRANADES", "AN/M18 COLOURED SMOKE GRANADES", "M100 GRANADE RIFLE ENTRY MUNITION(GREM)", " ", "HAND GUNS", "=======", "M1911A1", "M9 (BERETTA 92FS, 9*19MM)", "M11 (SIG Sauer P228, 9*19MM )", "MK 25 MOD 0 (SIG P226 MK25, 9*19MM)", "MEU  ( SOC) PISTOLS(.45 ACP)", "MARK 23 equipped with supresser and laser aiming module", "HK45C with an extended threaded barrel", "P11 UNDER WATER PISTOLS", " ", "RIFFLES", "========", "M16A4, (5056*45mm NATO)", "M14 SMUD", "M16A2", "M16A3", "SCAR-H MK 17 MOD 0", "XM29", "AR-15/COLT MODEL 601/602", "M870 MCS", " ", "CARBINES", "========", "M4 CABRINES", "GUU-5/P", "M231-FPW", "HK 416", "M2 CABRINES", "THOMPSON LIGHT RIFLE", " ", "ANTI-TANKS/ASSAULTS", "========", "M72/A1/A2/A3/A4 LAW ANTITANK ROCKET LAUNCHERS(66mm)", "M202 FLASH INCENDIARY ROCKET LAUNCHERS", "M203/A1/A2/ GRANADES LAUNCHERS", "FGM-148 JAVELIN", "AT4 MULTI USE CRUDE BLASTERS", " " }));
        wcbx.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                wcbxActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addContainerGap()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 1000, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel1)))
                    .addGroup(layout.createSequentialGroup()
                        .addGap(50, 50, 50)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel10)
                            .addComponent(jLabel7)
                            .addComponent(jLabel11)
                            .addComponent(jLabel12))
                        .addGap(27, 27, 27)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(NTF)
                            .addComponent(DTTF)
                            .addComponent(STF, javax.swing.GroupLayout.DEFAULT_SIZE, 199, Short.MAX_VALUE)
                            .addComponent(ATF, javax.swing.GroupLayout.DEFAULT_SIZE, 182, Short.MAX_VALUE))
                        .addGap(74, 74, 74)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(layout.createSequentialGroup()
                                .addGap(74, 74, 74)
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                    .addComponent(jButton1, javax.swing.GroupLayout.DEFAULT_SIZE, 178, Short.MAX_VALUE)
                                    .addComponent(jButton4, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
                            .addGroup(layout.createSequentialGroup()
                                .addGap(104, 104, 104)
                                .addComponent(jButton2, javax.swing.GroupLayout.PREFERRED_SIZE, 109, javax.swing.GroupLayout.PREFERRED_SIZE)))
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(layout.createSequentialGroup()
                                .addGap(56, 56, 56)
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jLabel9)
                                    .addComponent(jLabel5)))
                            .addGroup(layout.createSequentialGroup()
                                .addGap(68, 68, 68)
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jLabel6)
                                    .addComponent(jLabel8))))
                        .addGap(34, 34, 34)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(QTF, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 191, Short.MAX_VALUE)
                            .addComponent(wcbx, javax.swing.GroupLayout.Alignment.TRAILING, 0, 191, Short.MAX_VALUE)
                            .addComponent(PTF, javax.swing.GroupLayout.DEFAULT_SIZE, 191, Short.MAX_VALUE)
                            .addComponent(PRTF, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 191, Short.MAX_VALUE))))
                .addGap(127, 127, 127))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel1)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 211, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addGap(35, 35, 35)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel10)
                            .addComponent(STF, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(35, 35, 35)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(layout.createSequentialGroup()
                                .addGap(130, 130, 130)
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                    .addComponent(jLabel11)
                                    .addComponent(NTF, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                            .addGroup(layout.createSequentialGroup()
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                    .addComponent(jLabel12)
                                    .addComponent(DTTF, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addGap(44, 44, 44)
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                    .addComponent(jLabel7)
                                    .addComponent(ATF, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))))
                    .addGroup(layout.createSequentialGroup()
                        .addGap(60, 60, 60)
                        .addComponent(jButton1)
                        .addGap(47, 47, 47)
                        .addComponent(jButton4)
                        .addGap(47, 47, 47)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jButton2)
                            .addComponent(jLabel8)
                            .addComponent(PRTF, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addGroup(layout.createSequentialGroup()
                        .addGap(18, 18, 18)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(layout.createSequentialGroup()
                                .addGap(74, 74, 74)
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                    .addComponent(jLabel5)
                                    .addComponent(wcbx, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                            .addGroup(layout.createSequentialGroup()
                                .addGap(8, 8, 8)
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                    .addComponent(jLabel9)
                                    .addComponent(PTF, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))))
                        .addGap(41, 41, 41)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel6)
                            .addComponent(QTF, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))))
                .addContainerGap(83, Short.MAX_VALUE))
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed
int ans=JOptionPane.showConfirmDialog(null,"Do you want to save data");
int sno, qty, price ;
String date, armno, name, post ;
date=DTTF.getText();
armno=ATF.getText();
name=NTF.getText();
post=PTF.getText();
Object wcode=wcbx.getSelectedItem();
sno=Integer.parseInt(STF.getText());
qty=Integer.parseInt(QTF.getText());
price=Integer.parseInt(PRTF.getText());
if(ans==JOptionPane.YES_OPTION)
{
    try{
        Connection con=DriverManager.getConnection("jdbc:mysql://localhost/dwdts","root","kvalwar");
    Statement stmt=con.createStatement() ;
String Query="INSERT INTO PURCHSE VALUES ('"+sno+"', "+"'"+date+"', "+"'"+armno+"', "+"'"+name+"', "+"'"+post+"', "+"'"+wcode+"', "+qty+", "+price+" );";
JOptionPane.showMessageDialog(null,"REGISTRATING YOUR REQUEST");
JOptionPane.showMessageDialog(null,"VALIDATING YOUR PURCHASE");
JOptionPane.showMessageDialog(null,"SENDING TO SERVER");
stmt.executeUpdate(Query);
JOptionPane.showMessageDialog(null,"THANK YOU, YOUR TRANSACTION IS COMPLETE"+"\n"+
        "YOUR WEAPON WILL BE DELIVERED TO ITS DESTINATION");
Object [] arr= {STF.getText(), DTTF.getText(), ATF.getText(), NTF.getText(), PTF.getText(), wcbx.getSelectedItem(), QTF.getText(), PRTF.getText()};// Transfering the data to Table
DefaultTableModel model=(DefaultTableModel)ptable.getModel();
model.addRow(arr);
STF.setText("");
DTTF.setText("");
ATF.setText("");
NTF.setText("");
PTF.setText("");
QTF.setText("");
PRTF.setText("");// Ending of transaction with database
    }
catch(Exception e)
{
    
    JOptionPane.showMessageDialog(null,"thank you");
}
}

    }//GEN-LAST:event_jButton1ActionPerformed

    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton2ActionPerformed
this.setVisible(false);
new purchase().setVisible(true);
    }//GEN-LAST:event_jButton2ActionPerformed

    private void PTFActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_PTFActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_PTFActionPerformed

    private void STFActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_STFActionPerformed
 try {
               Class.forName("java.sql.Driver");

    Connection con=DriverManager.getConnection("jdbc:mysql://localhost/dwdts","root","kvalwar");
    Statement stmt=con.createStatement() ;
    String Query="SELECT * FROM PURCHSE ;";
    ResultSet rss=stmt.executeQuery(Query);
    while(rss.next())
    {
        int sno, n ;
        sno=rss.getInt("sno");
        n=sno+1 ;
        STF.setText(""+n);
    }
    String query="select curdate();";
    ResultSet rs=stmt.executeQuery(query) ;
    while(rs.next())
 {
String date ;
date=rs.getString("curdate()");
DTTF.setText(""+date);
    }
    }
catch(Exception e)
{
    JOptionPane.showMessageDialog(null,"Error In connectivity");
}

}//GEN-LAST:event_STFActionPerformed

    private void jButton4ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton4ActionPerformed
        DefaultTableModel model=( DefaultTableModel )ptable.getModel();
        int rows=model.getRowCount();
        if(rows>0) {
            for(int i=0; i<rows; i++)
                model.removeRow(0);
        }
}//GEN-LAST:event_jButton4ActionPerformed

    private void ATFActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ATFActionPerformed

    }//GEN-LAST:event_ATFActionPerformed

    private void QTFActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_QTFActionPerformed

    }//GEN-LAST:event_QTFActionPerformed

    private void DTTFActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_DTTFActionPerformed
DTTF.setEditable(false);
       
    }//GEN-LAST:event_DTTFActionPerformed

    private void NTFActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_NTFActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_NTFActionPerformed

    private void PRTFActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_PRTFActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_PRTFActionPerformed

    private void k1(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_k1
PTF.setEditable(false);
        NTF.setEditable(false);
        String str1 ;
str1=ATF.getText() ;
try
{
    Class.forName("java.sql.Driver");
    Connection con=DriverManager.getConnection("jdbc:mysql://localhost/dwdts","root","kvalwar");
    Statement stmt=con.createStatement() ;
    String query="select * from anochk ;";
    ResultSet rs=stmt.executeQuery(query) ;
    while(rs.next())
 {
String acode, name, post ;
acode=rs.getString("Acode");
name=rs.getString("name");
post=rs.getString("post");
if(str1.compareTo(acode)==0)
{
    NTF.setText("");
    NTF.setText(""+name);
    PTF.setText("");
PTF.setText(""+post);
}
}
}
catch(Exception e)
{
    JOptionPane.showMessageDialog(null,"Error In connectivity");
}
    }//GEN-LAST:event_k1

    private void k2(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_k2

Object str1=wcbx.getSelectedItem();
try
{
    Class.forName("java.sql.Driver");
    Connection con=DriverManager.getConnection("jdbc:mysql://localhost/dwdts","root","kvalwar");
    Statement stmt=con.createStatement() ;
    String query="select * from price where name='"+str1+"' ;";
    ResultSet rs=stmt.executeQuery(query) ;
    while(rs.next())
 {
int n, m, price ;
price=rs.getInt("price");
n=Integer.parseInt(QTF.getText());
m=n*price;
PRTF.setText(""+m);
    }
}
catch(Exception e)
{
    JOptionPane.showMessageDialog(null,"Error In connectivity");
}
    }//GEN-LAST:event_k2

    private void formComponentShown(java.awt.event.ComponentEvent evt) {//GEN-FIRST:event_formComponentShown
 try {
               Class.forName("java.sql.Driver");

    Connection con=DriverManager.getConnection("jdbc:mysql://localhost/dwdts","root","kvalwar");
    Statement stmt=con.createStatement() ;
    String Query="SELECT * FROM PURCHSE ;";
    ResultSet rss=stmt.executeQuery(Query);
    while(rss.next())
    {
        int sno, n ;
        sno=rss.getInt("sno");
        n=sno+1 ;
        STF.setText(""+n);
    }
    String query="select curdate();";
    ResultSet rs=stmt.executeQuery(query) ;
    while(rs.next())
 {
String date ;
date=rs.getString("curdate()");
DTTF.setText(""+date);
    }
    }
catch(Exception e)
{
    JOptionPane.showMessageDialog(null,"Error In connectivity");
}
    }//GEN-LAST:event_formComponentShown

    private void wcbxActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_wcbxActionPerformed
        Object str1 ;
        str1= wcbx.getSelectedItem() ;
        try {
            Class.forName("java.sql.Driver");
            Connection con=DriverManager.getConnection("jdbc:mysql://localhost/dwdts","root","kvalwar");
            Statement stmt=con.createStatement() ;
            String query="select * from price where name='"+str1+"';";
            ResultSet rs=stmt.executeQuery(query) ;
            while(rs.next()) {
                int price ;
                price=rs.getInt("price");
                PRTF.setText(""+price);
            }
        } catch(Exception e) {
            JOptionPane.showMessageDialog(null,"Error In connectivity");
        }
}//GEN-LAST:event_wcbxActionPerformed

    /**
    * @param args the command line arguments
    */
    public static void main(String args[]) {
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new newtrans().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JTextField ATF;
    private javax.swing.JTextField DTTF;
    private javax.swing.JTextField NTF;
    private javax.swing.JTextField PRTF;
    private javax.swing.JTextField PTF;
    private javax.swing.JTextField QTF;
    private javax.swing.JTextField STF;
    private javax.swing.JButton jButton1;
    private javax.swing.JButton jButton2;
    private javax.swing.JButton jButton4;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JTable ptable;
    private javax.swing.JComboBox wcbx;
    // End of variables declaration//GEN-END:variables

}
